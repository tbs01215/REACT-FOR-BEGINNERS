<!DOCTYPE html>
<html>
  <head> </head>
  <body>
    <div id="root"></div>
    <script
      src="https://unpkg.com/react@18/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
      crossorigin
    ></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

    <script type="text/babel">
      const domContainer = document.querySelector("#root");
      const root = ReactDOM.createRoot(domContainer);

      const MinutesToHours = () => {
        const [amount, setAmount] = React.useState(0);
        const [inverted, setInverted] = React.useState(false);

        const handleChange = (ev) => {
          setAmount(ev.target.value);
        };

        const reset = () => {
          setAmount(0);
        };
        const invert = () => {
          setInverted((curr) => !curr);
          reset();
        };
        return (
          <div>
            <div>
              <label htmlFor="minutes">Minutes</label>

              <input
                onChange={handleChange}
                value={inverted ? amount * 60 : amount}
                id="minutes"
                placeholder="Minutes"
                type="number"
                disabled={inverted}
              />
              <label htmlFor="hours">Hours</label>
              <input
                value={inverted ? amount : Math.round(amount / 60)}
                id="hours"
                placeholder="Hours"
                type="number"
                disabled={!inverted}
                onChange={handleChange}
              />
            </div>
            <button onClick={reset}>Reset</button>
            <button onClick={invert}>
              {inverted ? "Turn back" : "Invert"}
            </button>
          </div>
        );
      };
      const KmToMiles = () => {
        const [amount, setAmount] = React.useState(0);
        const [inverted, setInverted] = React.useState(false);

        const handleChange = (ev) => {
          setAmount(ev.target.value);
        };

        const reset = () => {
          setAmount(0);
        };
        const invert = () => {
          setInverted((curr) => !curr);
          reset();
        };
        return (
          <div>
            <div>
              <label htmlFor="km">Km</label>

              <input
                onChange={handleChange}
                value={inverted ? Math.round(amount / 1.609344) : amount}
                id="km"
                type="number"
                disabled={inverted}
              />
              <label htmlFor="miles">Miles</label>
              <input
                value={inverted ? amount : Math.round(amount * 1.609344)}
                id="miles"
                type="number"
                disabled={!inverted}
                onChange={handleChange}
              />
            </div>
            <button onClick={reset}>Reset</button>
            <button onClick={invert}>
              {inverted ? "Turn back" : "Invert"}
            </button>
          </div>
        );
      };

      const App = () => {
        const [claculator, setCalc] = React.useState("init");
        const handleChange = (ev) => {
          setCalc(ev.target.value);
        };
        return (
          <div>
            <h1>Super Converter</h1>
            <select value={claculator} name="" id="" onChange={handleChange}>
              <option value="init">단위를 설정해주세요</option>
              <option value="time">min & hr</option>
              <option value="dist">Km & Miles</option>
            </select>
            <hr />
            {claculator === "init" ? <span>설정해줘잉..</span> : null}
            {claculator === "time" ? <MinutesToHours /> : null}
            {claculator === "dist" ? <KmToMiles /> : null}
          </div>
        );
      };
      root.render(<App />);
    </script>
  </body>
</html>
